<style>
      #map {
        height: 400px;
        width: 100%;
       }
    </style>
<%= bootstrap_form_for(@farmacium) do |f| %>
  
<div class="col-md-8 col-md-offset-2  col-xs-12 col-sm-10">
  <div class="field">
    <%= f.text_field :nombre %>
  </div>
  <div class="field">
    <%= f.text_field :cedulaJur %>
  </div>
  <div class="field">
    <%= f.text_field :sucursal %>
  </div>
  <div class="field">
    <%= f.text_field :direccion %>
  </div>
  <div class="field">
  <h4>dgf-95@hotmail.com</h4>
    <%= f.text_field :correo %>
  </div>
  <div class="field">
    <%= f.number_field :telefono1 %>
  </div>
  <div class="field">
    <%= f.number_field :telefono2 %>
  </div>
  <div class="field">
    <%= f.hidden_field  :latitud %>
  </div>
  <div class="field">
    <%= f.hidden_field  :longitud %>
  </div>
  <div class="field">
    <%= f.password_field  :password %>
  </div>
  <div class="field">
     Password Confirmation: <%= f.password_field :password_confirmation %>
  </div>
 
  <div class="field">
    <%= f.file_field :photo , id: 'pictureInput' %>
     </div><div id="target" >
  </div>
  <div class="actions">
    <%= f.submit %>
  </div>
  
<% end %>
</div>
<div id="map"></div>
       <script>
      
        var marker;


        function initMap() {
          var map = new google.maps.Map(document.getElementById('map'), {
            zoom: 13,
            center: {lat: 10.374024198091103, lng: -84.34032440185547}
          });

          marker = new google.maps.Marker({
            map: map,
            draggable: true,
            animation: google.maps.Animation.DROP,
            position: {lat: 10.374024198091103, lng: -84.34032440185547}
          });
          google.maps.event.addListener(marker, 'dragend', function(a) {
              console.log(this.position.lat());
              console.log(this.position.lng());
              $("#farmacium_latitud").val(this.position.lat());
              $("#farmacium_longitud").val(this.position.lng());
              // bingo!
              // a.latLng contains the co-ordinates where the marker was dropped
          });
          marker.addListener('click', toggleBounce);
        }


        function toggleBounce() {
          if (marker.getAnimation() !== null) {
            marker.setAnimation(null);
          } else {
            marker.setAnimation(google.maps.Animation.BOUNCE);
          }
        }
    </script>
    <script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyCZJ05COskGvwxls_hwwKz-xHSwQhT1l7Y&callback=initMap"
    async defer></script>